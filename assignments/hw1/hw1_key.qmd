---
title: "Weekly Assignment #1"
author: "Karl Marx"  # Replace with your name
date: "02/05/2026"
format: 
  html:
    toc: true
    code-fold: false
    embed-resources: true
---

::: callout-important
## Submission Instructions

1.  Download this `hw1.qmd` file and the `attain.csv` data file from bCourse
2.  Save the `hw1.qmd` file in the assignments folder and .csv in the data folder
3.  Complete all questions by writing your code in the provided code chunks
4.  Click the "Render" button at the top of Positron to generate an HTML file
5.  Submit **BOTH** the .qmd file AND the .html file to bCourse before the deadline
6.  Make sure your name appears in the "author" field in the YAML header above
:::


## Setup Instructions



```
soc106/
├── _quarto.yml
├── assignments/
│   └── hw1.qmd
├── data/
│   └── attain.csv
└── labs/
    └── lab1.qmd
```

## Instructions

Complete all questions below, writing your code in the code chunks provided. Replace `# Your code here` lines with your actual code. Make sure your document renders without errors before submitting.

```{r}
# Clear environment
# ---------
rm(list = ls())

# install libraries -- you might need to install these libraries if you haven't yet
# ---------
# install.packages("tidyverse")
# install.packages("here")

# load libraries
# ---------
library(tidyverse)
library(here)
```

## Question 1

Load the data file `attain.csv` into R using the `read_csv` function. Be sure to use the `here()` library to ensure you are using a relative file path and that the csv file is saved in the "data" folder and the .qmd file is saved in the "assignments" foSOsocsocozlder. Once you've loaded the dataset, use the `glimpse()` function to examine the structure of the data and the variables.

```{r}
#| warning: false

# Your code here
attain <- read_csv(here("data/attain.csv")) 
attain |> glimpse()

```

**Write 1-2 sentences describing what you observe in the data:**

*I see a lot of numeric and character data, there are some missing data that I'll have to deal with, and lots of abbreviations.*

------------------------------------------------------------------------

## Question 2

Create a new object called `ages` from the `attain` dataset by selecting the column name called `age` using the  appropriate tidyverse function and glimpsing the vector. What is the type of variable in it? (e.g., numeric, character, boolean). Specifically, what is this called? 

```{r}

# Your code here
ages <- attain |> select(age)  |> glimpse()

```

**What is the type of variable?**

*Check for data; Should be numeric or double*

------------------------------------------------------------------------

## Question 3

Now create a new object from the the original `attain` dataset (column name = `marital`), call it `marital_status`, and view the object using the `print` function. What is the type of variable in this column vector?

```{r}

# Your code here
marital_status <- attain |> select(marital) |> print()

```

**What is the type of variable?**

*Check for data; character*

------------------------------------------------------------------------

## Question 4

Suppose we want to only look at a smaller dataset that contains the respondent's age, sex, race, marital status, and age at marriage (column names `age`, `sex`, `race`, `marital`, `agewed`, respectively). Create a subset of the original `attain` dataset (call it `subset1`) using the appropriate tidyverse function. Make sure to glimpse it so we can see what it looks like.

```{r}

# Your code here
subset1 <- attain %>%
  select(age, sex, race, marital, agewed) |> 
  glimpse()

```

------------------------------------------------------------------------

*should have the 5 columns*

## Question 5

Now suppose we want a smaller dataset that only contains the first 1000 observations. Create a subset of `attain` data (call it `subset1`) using the appropriate tidyverse function. Make sure to glimpse it. How do you know you did it correctly?

```{r}

# Your code here
subset2 <- attain %>%
  slice(1:1000) |> 
  glimpse()

```

*make sure it only has 1,000 observations*

------------------------------------------------------------------------

## Question 6

Now, suppose we are really concerned about unemployment within our sample (column name `unemp`). But, we notice that many respondents have missing unemployment statuses (i.e., `unemp` is equal to `NA`). Let's create a subset that consists of all respondents who do not have missing unemployment information. (*Hint: to find observations that are not missing, use the `!` (not) logical operator and the `is.na` function.*)

```{r}

# Your code here
# Don't forget to check how many respondents are in your subset!
subset3 <- attain %>%
  filter(!is.na(unemp)) |> glimpse() # 2,004 respondents

```

**How many respondents are in this subset?**

*Should be 2,004*

------------------------------------------------------------------------

## Question 7

Repeat Question 6 (call it `subset4`), but this time creating a subset of respondents who all have information about their father's education (column name `paeduc`).

```{r}

# Your code here
subset4 <- attain %>%
  filter(!is.na(paeduc)) |>
  glimpse()  # 2,155 respondents

```

**How many respondents are in this subset?**

*2,155*

------------------------------------------------------------------------

## Question 8

Now suppose we want to investigate the relationship between unemployment status and father's education. This time, create a subset (call it `subset5`) of respondents who have non-missing information for **both** unemployment status and father's education. (*Hint: You will need to use a logical operator again for this one.*)

```{r}

# Your code here
subset5 <- attain %>%
  filter(!is.na(unemp) & !is.na(paeduc)) |>
  glimpse()  # 1,441 respondents

```

**How many respondents are in this subset?**

*1,441*

------------------------------------------------------------------------

## Question 9

Create a new variable in the dataset that measures the number of years since the birth of the respondent's first child, using the variables `age` and `agekdbrn`. Call the new dataset `attain_kids`. Use the appropriate tidyverse function to do this (*Hint: Ccreate a new variable and call it `years_since_kid`.*)

```{r}

# Your code here
attain_kids <- attain %>%
  mutate(years_since_kid = age - agekdbrn) |> 
  glimpse()
```

------------------------------------------------------------------------

## Question 10

Finally, there a is a left over variable in this dataset from the original .csv file that we want to drop. Using the `attain` dataset again, let's' first rename the variable--"to_drop"--and then drop it from the dataset. How can you tell for sure that this worked (*Hint: think about how many rows you should have.*)

```{r}

# Your code here
attain_breadwinner <- attain %>%
  rename(to_drop = `...1`) |> 
  select(-to_drop) |> 
  glimpse()
```

**How many respondents are in this subset?**

*should be 43 rows instead of 44*

------------------------------------------------------------------------

::: callout-tip
## Before You Submit

-   [ ] Your name is in the author field at the top of this document
-   [ ] All code chunks run without errors
-   [ ] You've answered all written response questions
-   [ ] You've clicked "Render" and successfully generated an HTML file
-   [ ] You're submitting the .qmd file to bCourse
:::