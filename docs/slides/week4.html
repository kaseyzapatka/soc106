<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2026-02-10">

<title>Week 4 – Sociology 106</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-6bdd2aebeb936dcddaa5f935a5de481c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Sociology 106</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../slides/index.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="week4.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 4</h1>
<p class="subtitle lead">Sociology 106: Quantitative Sociological Methods</p>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 10, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="housekeeping" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="housekeeping">Housekeeping</h2>
<p>[[<strong>ADD IT IN LATER</strong>]]</p>
</section>
<section id="questions" class="level2">
<h2 class="anchored" data-anchor-id="questions">Questions?</h2>
</section>
<section id="agenda" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="agenda">Agenda</h2>
<p><strong>Summarizing distributions:</strong></p>
<ul>
<li>Relative and marginal frequencies</li>
<li>Measures of the central tendency
<ul>
<li>Mean, median, and mode</li>
</ul></li>
<li>Measures of dispersion
<ul>
<li>Percentiles and standard deviation / variance</li>
</ul></li>
<li>Association between two variables
<ul>
<li>Comparing proportions: difference in proportions, relative risk ratio</li>
<li>Comparing distributions: covariance and correlation</li>
</ul></li>
</ul>
</section>
<section id="relative-frequencies" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="relative-frequencies">Relative frequencies</h2>
<p><strong>Relative frequency</strong> (aka proportion): the frequency of observations for a given variable, divided by the total number of observations.</p>
<ul>
<li>This is similar to a probability, though statisticians generally talk about probabilities existing “in the world” and relative frequencies existing “within the data”</li>
</ul>
<p><strong>Notation:</strong></p>
<ul>
<li><span class="math inline">\(p_{X=i} = \frac{n_{X=i}}{n_{total}}\)</span></li>
<li>Sometimes <span class="math inline">\(p_{X=i}\)</span> is shortened to <span class="math inline">\(p_i\)</span></li>
</ul>
<p><strong>Relative frequency in the case of two variables:</strong></p>
<ul>
<li><span class="math inline">\(p_{X=i,Y=j} = \frac{n_{X=i,Y=j}}{n_{total}}\)</span></li>
</ul>
</section>
<section id="marginal-frequencies" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="marginal-frequencies">Marginal frequencies</h2>
<p>The <strong>marginal (or conditional) proportion</strong> is the relative frequency of observations taking a certain value for a given variable (i.e., X), conditional on the observations taking a certain value for another variable (i.e., Y)</p>
<p><strong>Notation:</strong></p>
<ul>
<li><p><span class="math inline">\(p_{X=i \mid Y=j} = \frac{n_{X=i,\,Y=j}}{n_{Y=j}}\)</span></p></li>
<li><p>Sometimes <span class="math inline">\(p_{X=i|Y=j}\)</span> is shortened to <span class="math inline">\(p_{ij}\)</span></p></li>
</ul>
</section>
<section id="marginal-frequency-example" class="level2 smaller page-columns page-full">
<h2 class="smaller anchored" data-anchor-id="marginal-frequency-example">Marginal frequency example</h2>
<p>The table below is reconstructed from a published study:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>18th Century</th>
<th>19th Century</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Publishing Trade</strong></td>
<td>109</td>
<td>21</td>
</tr>
<tr class="even">
<td><strong>Other Occupations</strong></td>
<td>53</td>
<td>82</td>
</tr>
<tr class="odd">
<td><strong>Total</strong></td>
<td>162</td>
<td>103</td>
</tr>
</tbody>
</table>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">18th Century</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">19th Century</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Marginal frequency of magazine founders’ occupations being in the publishing trade, conditional on the magazine being founded in the 18th century:</p>
<p><span class="math display">\[109/162 = 67.3\%\]</span></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Marginal frequency of magazine founders’ occupations being in the publishing trade, conditional on the magazine being founded in the 19th century:</p>
<p><span class="math display">\[21/103 = 20.3\%\]</span></p>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="margin-aside">
<p>Source: Haveman, Habinek, and Goodman. 2012. “How Entrepreneurship Evolves: The Founders of New Magazines in America, 1741-1860.” <em>Administrative Science Quarterly</em>. 57(4):553-584.</p>
</div></div></section>
<section id="back-to-relative-frequencies" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="back-to-relative-frequencies">Back to relative frequencies…</h2>
<p>We could use the table, which provides marginal frequencies, to calculate the relative frequency of magazine founders’ occupations being in the publishing trade:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>18th Century</th>
<th>19th Century</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Publishing Trade</strong></td>
<td>109</td>
<td>21</td>
</tr>
<tr class="even">
<td><strong>Other Occupations</strong></td>
<td>53</td>
<td>82</td>
</tr>
<tr class="odd">
<td><strong>Total</strong></td>
<td>162</td>
<td>103</td>
</tr>
</tbody>
</table>
<p>The number of all magazine foundings whose founders were in the publishing trades, divided by all magazine foundings:</p>
<p><span class="math display">\[(109 + 21)/(162 + 103) = 130/265 = 49.1\%\]</span></p>
</section>
<section id="using-relative-marginal-frequencies" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="using-relative-marginal-frequencies">Using relative &amp; marginal frequencies</h2>
<p>Relative frequencies are <strong>more useful if both variables are categorical</strong>, not continuous</p>
<ul>
<li>If the variable is continuous, there may not be very many observations that have a certain value for a given variable</li>
<li><strong>Example</strong>: yearly earnings (in dollars)—it would not be very informative to find the relative frequency of individuals with yearly earnings of $27,475</li>
</ul>
<p>Same for marginal frequencies: more useful if both variables are categorical, not continuous</p>
</section>
<section id="calculating-frequencies-in-r" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="calculating-frequencies-in-r">Calculating frequencies in R</h2>
<p>Now, let’s use <code>R</code> to calculate relative and marginal frequencies</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Relative freq</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Marginal freq (option 1)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Marginal freq (option 2)</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Relative frequency formula : <span class="math inline">\(p_{X=i} = \frac{n_{X=i}}{n_{total}}\)</span></p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># count absolute frequencies</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(marital) <span class="sc">|&gt;</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create a proprotion  </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  marital      n proportion
  &lt;chr&gt;    &lt;int&gt;      &lt;dbl&gt;
1 divorced   446   0.149   
2 married   1541   0.515   
3 never ma   614   0.205   
4 separate   102   0.0341  
5 widowed    288   0.0963  
6 &lt;NA&gt;         1   0.000334</code></pre>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Marginal frequency formula : <span class="math inline">\(p_{X=i \mid Y=j} = \frac{n_{X=i,\,Y=j}}{n_{Y=j}}\)</span></p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Table of absolute freq for var1, </span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># for given value for var2</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">"male"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(marital) <span class="sc">|&gt;</span> </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Use that table to create relative freq</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 3
  marital      n proportion
  &lt;chr&gt;    &lt;int&gt;      &lt;dbl&gt;
1 divorced   165     0.128 
2 married    730     0.566 
3 never ma   312     0.242 
4 separate    34     0.0264
5 widowed     49     0.0380</code></pre>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<p>Marginal frequency formula : <span class="math inline">\(p_{X=i \mid Y=j} = \frac{n_{X=i,\,Y=j}}{n_{Y=j}}\)</span></p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, marital) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop_last"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 4
# Groups:   sex [2]
   sex    marital      n proportion
   &lt;chr&gt;  &lt;chr&gt;    &lt;int&gt;      &lt;dbl&gt;
 1 female divorced   281   0.165   
 2 female married    811   0.476   
 3 female never ma   302   0.177   
 4 female separate    68   0.0400  
 5 female widowed    239   0.140   
 6 female &lt;NA&gt;         1   0.000588
 7 male   divorced   165   0.128   
 8 male   married    730   0.566   
 9 male   never ma   312   0.242   
10 male   separate    34   0.0264  
11 male   widowed     49   0.0380  </code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="questions-1" class="level2">
<h2 class="anchored" data-anchor-id="questions-1">Questions?</h2>
</section>
<section id="measures-of-central-tendency" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency">Measures of central tendency</h2>
<p><strong>Mode</strong>: the value of a variable that occurs most often in the data set</p>
<p><strong>Median</strong>: the middle data value, if the data are ordered by increasing value</p>
<p><strong>Mean</strong> (aka average): the sum of all values in the data set, divided</p>
</section>
<section id="measures-of-central-tendency-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-1">Measures of central tendency</h2>
<p><strong>Mode</strong>: the value of a variable that occurs most often in the data set</p>
<p>Example data of number of people 10 members of a high school class sent text messages to Monday: <code>5, 2, 10, 4, 3, 2, 6, 15, 3, and 2</code>.</p>
<p>The mode of this variable in this data set is <strong>2</strong>, because it occurs more often (3 times) than any other value</p>
</section>
<section id="measures-of-central-tendency-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-2">Measures of central tendency</h2>
<p><strong>Median</strong>: the middle data value, if the data are ordered by increasing value</p>
<ul>
<li>If there are an even number of observations, the median is the midpoint between the two middle values</li>
</ul>
</section>
<section id="measures-of-central-tendency-3" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-3">Measures of central tendency</h2>
<p>Same example: (<code>5, 2, 10, 4, 3, 2, 6, 15, 3, 2</code>)</p>
<ul>
<li><p>First, order the data: (<code>2, 2, 2, 3, 3, 4, 5, 6, 10, 15</code>)</p></li>
<li><p>Second, find the middle observation(s): (<code>2, 2, 2, 3, 3, 4, 5, 6, 10, 15</code>)</p></li>
</ul>
<p>Since we have two middle observations, find the midpoint: <strong>3.5</strong></p>
</section>
<section id="measures-of-central-tendency-4" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-4">Measures of central tendency</h2>
<p><strong>(Arithmetic) mean</strong> (aka average): the sum of all values in the data set, divided by the number of observations in the data set</p>
<p><strong>Notation:</strong></p>
<p><span class="math display">\[\bar{x} = \frac{1}{n}\sum_{i=1}^{n}x_i\]</span></p>
<p>Example: (<code>5, 2, 10, 4, 3, 2, 6, 15, 3, 2</code>)</p>
<p>Mean = <code>(5+2+10+4+3+2+6+15+3+2)/10</code> = <strong>5.2</strong></p>
</section>
<section id="measures-of-central-tendency-5" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-5">Measures of central tendency</h2>
<p>Example: (<code>5, 2, 10, 4, 3, 2, 6, 15, 3, 2</code>)</p>
<p><strong>Summary:</strong></p>
<ul>
<li>Mode = 2</li>
<li>Median = 3.5</li>
<li>Mean = 5.2</li>
</ul>
</section>
<section id="a-visual-example" class="level2">
<h2 class="anchored" data-anchor-id="a-visual-example">A visual example</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>Here’s a visual example of how mode, mean, and median can work</p>
</div><div class="column" style="width:60%;">
<p><img src="images/week4/histogram.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="comparing-measures" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-measures">Comparing measures</h2>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><strong>Mode</strong> can be used on variables of <em>any level of measurement</em>
<ul>
<li>Less useful for continuous variables, since values are not sufficiently granular (e.g.&nbsp;yearly earnings)</li>
</ul></li>
<li><strong>Median</strong> <em>cannot be used on nominal variables</em>, because it requires you to order observations</li>
<li><strong>Mean</strong> <em>cannot be used on nominal OR ordinal variables</em>, because it requires that we can say something about the distance between values</li>
</ul>
</div><div class="column" style="width:40%;">
<table class="caption-top table">
<thead>
<tr class="header">
<th>Measurement</th>
<th>Mode</th>
<th>Median</th>
<th>Mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Nominal</strong></td>
<td>Yes</td>
<td>No</td>
<td>No</td>
</tr>
<tr class="even">
<td><strong>Ordinal</strong></td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="odd">
<td><strong>Continuous</strong></td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="which-should-we-preder" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="which-should-we-preder">Which should we preder?</h2>
<p>Same example: <code>(2, 2, 2, 3, 3, 4, 5, 6, 10, 15)</code>.</p>
<p><strong>Mode</strong> is generally the least useful; in most cases we will prefer to use the median or mean</p>
<p><strong>Median</strong> provides less information about the distribution of the variable, but is robust to outliers</p>
<ul>
<li>The median (3.5) does not depend on the values of the outliers 10 and 15</li>
</ul>
<p><strong>Mean</strong> takes into account the distribution of the variable, but is less robust to outliers</p>
<ul>
<li>The mean (5.2) is strongly affected by the values of the outliers 10 and 15</li>
</ul>
</section>
<section id="measures-of-central-tendency-in-r" class="level2 smaller page-columns page-full">
<h2 class="smaller anchored" data-anchor-id="measures-of-central-tendency-in-r">Measures of central tendency in R</h2>
<p>These measures are simple to calculate in <code>R</code>. Let’s take a look:</p>
<div class="tabset-margin-container page-columns page-full"><div class="no-row-height column-margin column-container"><div class="margin-aside tabset-margin-content tabset-3-3-tab-margin-content collapse">
<p>Notice the extra <code>glimpse()</code> call here to see what’s happening under the hood</p>
</div></div></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Mean</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Meidan</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Mode</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>To calculate the mean respondent income in our sample, we can use the <code>summarize()</code> or <code>summarise()</code> function. Be sure to remove missing using <code>na.rm = TRUE</code>, which can affect the calculation.</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
    mean
   &lt;dbl&gt;
1 25852.</code></pre>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p>We can do the same with for the median using the <code>median()</code> function:</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Median</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">median</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
   mean
  &lt;dbl&gt;
1 21250</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<p>For the mode, we’ll simply want to count the number of obs (using <code>count()</code>) and take the largest number. We can do following to see the most common martial status, which is unsurprising “married”.</p>

<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(marital) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(marital)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6
Columns: 2
$ marital &lt;chr&gt; "divorced", "married", "never ma", "separate", "widowed", NA
$ n       &lt;int&gt; 446, 1541, 614, 102, 288, 1</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "married"</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="questions-2" class="level2">
<h2 class="anchored" data-anchor-id="questions-2">Questions?</h2>
</section>
<section id="measures-of-dispersion" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion">Measures of dispersion</h2>
<ul>
<li><p><strong>Percentiles</strong>: the <span class="math inline">\(k\)</span>th percentile of the variable is the value that has the property that at least <span class="math inline">\(k\)</span> percent of the data are less than or equal to it</p></li>
<li><p><strong>Deviation from the mean</strong>: the difference between a data value and the sample mean</p></li>
<li><p><strong>Sample variance</strong>: the average squared deviations</p></li>
<li><p><strong>Sample standard deviation</strong>: the square root of the sample variance</p></li>
</ul>
</section>
<section id="measures-of-dispersion-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-1">Measures of dispersion</h2>
<p><strong>Percentiles</strong>: the <span class="math inline">\(k\)</span>th percentile of the variable is the value that has the property that at least k percent of the data are less than or equal to it</p>
<p><strong>Calculating the <span class="math inline">\(k\)</span>th percentile:</strong></p>
<ol type="1">
<li>Order the data from smallest to largest: <span class="math inline">\((x_1, ..., x_n)\)</span></li>
<li>Calculate the index <span class="math inline">\(i = \frac{k \times n_{total}}{100}\)</span></li>
<li>If index is a whole number, the percentile is an average of the ith and the (<span class="math inline">\(i\)</span>+1)th values in the ordered data</li>
<li>If index is not a whole number, round up to whole number, and the percentile is the <span class="math inline">\(i\)</span>th number</li>
</ol>
</section>
<section id="measures-of-dispersion-2" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-2">Measures of dispersion</h2>
<p><strong>Example</strong>: calculating the 30th and 45th percentile of the dataset of # texts per day: <code>(5, 2, 10, 4, 3, 2, 6, 15, 3, 2)</code></p>
<p>First, order the data: <strong>(2, 2, 2, 3, 3, 4, 5, 6, 10, 15)</strong></p>
<p>Second, calculate the indexes:</p>
<ul>
<li>30th: <span class="math inline">\(30 \times 10/100 = 3\)</span></li>
<li>45th: <span class="math inline">\(45 \times 10/100 = 4.5\)</span></li>
</ul>
<p>For the <strong>30th percentile</strong>: the index 3 is a whole number, so we take the average of the 3rd and 4th values in the ordered dataset: <span class="math inline">\((2 + 3)/2 = 2.5\)</span></p>
<p>For the <strong>45th percentile</strong>: the index 4.5 is not a whole number, so we round up to 5 and take the 5th value in the ordered dataset: <strong>3</strong></p>
</section>
<section id="measures-of-dispersion-3" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-3">Measures of dispersion</h2>
<p><strong>Deviation from the mean</strong>: the difference between a data value and the sample mean</p>
<p>For observation <span class="math inline">\(i\)</span>, the value of the ith deviation is: <span class="math inline">\(x_i - \bar{x}\)</span></p>
<p>We often use the squared deviations from the mean to calculate the dispersion of the data:</p>
<p><strong>Sample variance</strong>: the average* squared deviations</p>
<p><span class="math display">\[s^2 = \frac{1}{n-1}\sum_{i=1}^{n}(x_i - \bar{x})^2\]</span></p>
<p>*Note that these “averages” are divided by n-1, not n.</p>
</section>
<section id="measures-of-dispersion-4" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-4">Measures of dispersion</h2>
<p><strong>Sample standard deviation</strong>: the square root of the sample variance</p>
<p><span class="math display">\[s = \sqrt{\frac{1}{n-1}\sum_{i=1}^{n}(x_i - \bar{x})^2}\]</span></p>
</section>
<section id="measures-of-dispersion-5" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-5">Measures of dispersion</h2>
<p><strong>Why do we square the deviations?</strong></p>
<ul>
<li>Ensures that the deviations will always be positive
<ul>
<li>But, using the absolute value could do the same</li>
</ul></li>
<li>Gives greater weight to outliers
<ul>
<li>This has good and bad properties</li>
</ul></li>
</ul>
<p><strong>Unsatisfying answer</strong>: most of the statistical tools we will learn in the rest of the course are based on the standard deviation and variance, and these are the most commonly used measures of dispersion</p>
</section>
<section id="comparing-measures-of-dispersion" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-measures-of-dispersion">Comparing measures of dispersion</h2>
<p>The tradeoff between percentiles and standard deviations / variances is similar to the tradeoff between medians and means</p>
<ul>
<li><strong>Percentiles</strong> only provide information about the distribution of the variable at one point, but are fairly robust to outliers
<ul>
<li>Like the median, which is the same as the 50th percentile</li>
</ul></li>
<li>The standard deviation / variance uses information about the entire distribution of the variable, but is not as robust to outliers</li>
</ul>
</section>
<section id="dispersion-and-levels-of-measurement" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="dispersion-and-levels-of-measurement">Dispersion and levels of measurement</h2>
<p>So, which levels of measurement can use percentiles and variance/standard deviation?</p>
<p><br></p>
<table class="caption-top table">
<colgroup>
<col style="width: 26%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 14%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th>Statistic</th>
<th>Nominal</th>
<th>Ordinal</th>
<th>Continuous</th>
<th>Why</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Percentiles</td>
<td>❌ No</td>
<td>✅ Yes</td>
<td>✅ Yes</td>
<td>Percentiles require at least ordered data</td>
</tr>
<tr class="even">
<td>Variance / Std Dev</td>
<td>❌ No</td>
<td>❌ No</td>
<td>✅ Yes</td>
<td>Requires meaningful distances between values</td>
</tr>
</tbody>
</table>
</section>
<section id="measures-of-dispersion-in-r" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-dispersion-in-r">Measures of dispersion in R</h2>
<p>How do we use R to calculate measures of dispersion? Let’s look at variosu measures of dispersion of respondent’s income in our <code>attain</code> dataset?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Percentiles</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Variance</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false">Standard Deviation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false">All at once</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<p>This will return the values at those specific <strong>percentiles</strong>–25th, 50th, and 75th. So, a respondent with an income of $32,500 is in the 75th percentile of the sample.</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Percentiles</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">p25 =</span> <span class="fu">quantile</span>(rincom91, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">p50 =</span> <span class="fu">quantile</span>(rincom91, <span class="fl">0.50</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">p75 =</span> <span class="fu">quantile</span>(rincom91, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 3
$ p25 &lt;dbl&gt; 11250
$ p50 &lt;dbl&gt; 21250
$ p75 &lt;dbl&gt; 32500</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<p>This will return the measure of <strong>variance</strong> in our sample for this specific income variable.</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variance</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">variance =</span> <span class="fu">var</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 1
$ variance &lt;dbl&gt; 432600678</code></pre>
</div>
</div>
</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<p>This will return the <strong>standard deviation (std_dev)</strong> of variance in our sample for this specific income variable.</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Standard deviation</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">std_dev =</span> <span class="fu">sd</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 1
$ std_dev &lt;dbl&gt; 20799.05</code></pre>
</div>
</div>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">
<p>we can calculate all of these measures simultaneously. We can also calculate <code>sd</code> manually if we’d like.</p>
<p><br></p>
<p>Here I use the <code>gt</code> package to make the table output a bit nicer. <a href="https://gt.rstudio.com">Check out the documentation</a>!</p>
<div class="cell" data-output-location="column">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify sd equals sqrt(var)</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">variance =</span> <span class="fu">var</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">std_dev  =</span> <span class="fu">sd</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sqrt_var =</span> <span class="fu">sqrt</span>(<span class="fu">var</span>(rincom91, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># use `gt` for nicer table formatting!</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  gt<span class="sc">::</span><span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="nwjphmndul" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nwjphmndul table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nwjphmndul thead, #nwjphmndul tbody, #nwjphmndul tfoot, #nwjphmndul tr, #nwjphmndul td, #nwjphmndul th {
  border-style: none;
}

#nwjphmndul p {
  margin: 0;
  padding: 0;
}

#nwjphmndul .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nwjphmndul .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nwjphmndul .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nwjphmndul .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nwjphmndul .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nwjphmndul .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nwjphmndul .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nwjphmndul .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nwjphmndul .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nwjphmndul .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nwjphmndul .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nwjphmndul .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nwjphmndul .gt_spanner_row {
  border-bottom-style: hidden;
}

#nwjphmndul .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nwjphmndul .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nwjphmndul .gt_from_md > :first-child {
  margin-top: 0;
}

#nwjphmndul .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nwjphmndul .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nwjphmndul .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nwjphmndul .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nwjphmndul .gt_row_group_first td {
  border-top-width: 2px;
}

#nwjphmndul .gt_row_group_first th {
  border-top-width: 2px;
}

#nwjphmndul .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwjphmndul .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nwjphmndul .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nwjphmndul .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nwjphmndul .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwjphmndul .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nwjphmndul .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nwjphmndul .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nwjphmndul .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nwjphmndul .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nwjphmndul .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwjphmndul .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nwjphmndul .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nwjphmndul .gt_left {
  text-align: left;
}

#nwjphmndul .gt_center {
  text-align: center;
}

#nwjphmndul .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nwjphmndul .gt_font_normal {
  font-weight: normal;
}

#nwjphmndul .gt_font_bold {
  font-weight: bold;
}

#nwjphmndul .gt_font_italic {
  font-style: italic;
}

#nwjphmndul .gt_super {
  font-size: 65%;
}

#nwjphmndul .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nwjphmndul .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nwjphmndul .gt_indent_1 {
  text-indent: 5px;
}

#nwjphmndul .gt_indent_2 {
  text-indent: 10px;
}

#nwjphmndul .gt_indent_3 {
  text-indent: 15px;
}

#nwjphmndul .gt_indent_4 {
  text-indent: 20px;
}

#nwjphmndul .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="variance" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">variance</th>
<th id="std_dev" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">std_dev</th>
<th id="sqrt_var" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">sqrt_var</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="variance">432600678</td>
<td class="gt_row gt_right" headers="std_dev">20799.05</td>
<td class="gt_row gt_right" headers="sqrt_var">20799.05</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="questions-3" class="level2">
<h2 class="anchored" data-anchor-id="questions-3">Questions?</h2>
</section>
<section id="measures-of-association" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-association">Measures of association</h2>
<p><strong>Differences in proportions</strong>: the difference in marginal proportions for the same outcome variable (<span class="math inline">\(x_i\)</span>) across different categories of a variable y</p>
<p>Formula: <span class="math inline">\(p_{x_i | y_j} - p_{x_i | y_k}\)</span></p>
<ul>
<li>In words: “The difference in the proportion of <span class="math inline">\(x_i\)</span> between group <span class="math inline">\(j\)</span> and group <span class="math inline">\(k\)</span>”</li>
<li>The differences in proportions are expressed in terms of percentage points</li>
<li>Easy to use, but occasionally misleading</li>
</ul>
<blockquote class="blockquote">
<p>Also, remember there is big difference in “percentage point increase” and “percent increase”</p>
</blockquote>
</section>
<section id="measures-of-association-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-association-1">Measures of association</h2>
<p><strong>Relative risk ratio</strong>: ratio of marginal proportions for the same outcome variable (x = i) across different categories of a variable y</p>
<p>Formula: <span class="math inline">\(p_{x_i | y_j} / p_{x_i | y_k}\)</span></p>
<ul>
<li>Scales the proportions against each other (which can be generally less misleading than simple differences)</li>
</ul>
</section>
<section id="comparing-proportions-example" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-proportions-example">Comparing proportions: example</h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th></th>
<th>18th Century</th>
<th>19th Century</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Publishing Trade</strong></td>
<td>109</td>
<td>21</td>
</tr>
<tr class="even">
<td><strong>Other Occupations</strong></td>
<td>53</td>
<td>82</td>
</tr>
<tr class="odd">
<td><strong>Total</strong></td>
<td>162</td>
<td>103</td>
</tr>
</tbody>
</table>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Difference in proportions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Relative risk ratios</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<p><strong>Difference in proportions</strong> of a magazine founder being in the publishing trade (x) in the 18th as compared to the 19th century (y):</p>
<p><span class="math display">\[109/162 - 21/103 = 67.3\% - 20.3\% = 47 \text{ percentage points}\]</span></p>
<p>This is an absolute difference—it tells you the raw gap between the two proportions.</p>
<blockquote class="blockquote">
<p>“Magazine founders in the 18th century were 47 percentage points more likely to be in the publishing trade than those in the 19th century.”</p>
</blockquote>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p><strong>Relative risk ratio</strong> of a magazine founder being in the publishing trade (x) in the 18th as compared to the 19th century (y):</p>
<p><span class="math display">\[(109/162)/(21/103) = 67.3\%/20.3\% = 3.32\]</span></p>
<p>This is a relative difference—how many times larger one proportion is than another.</p>
<blockquote class="blockquote">
<p>“Magazine founders in the 18th century were 3.32 times as likely (or 232% more likely) to be in the publishing trade compared to those in the 19th century.”</p>
</blockquote>
</div>
</div>
</div>
</section>
<section id="comparing-proportions-example-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-proportions-example-1">Comparing proportions: example</h2>
<p><strong>Which One to Use?</strong></p>
<ul>
<li><p><strong>Absolute difference</strong> (47 pp): Better for understanding practical/real-world impact. Nearly half of 18th century founders were publishers vs.&nbsp;only a fifth in the 19th century—that’s a massive shift in the composition of magazine founders.</p></li>
<li><p><strong>Relative risk</strong> (3.32x): Better for understanding the strength of the association. Being an 18th century founder makes you over 3 times as likely to be a publisher.</p></li>
</ul>
</section>
<section id="comparing-variables-across-the-distribution" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-variables-across-the-distribution">Comparing variables across the distribution</h2>
<p><strong>The covariance</strong> for <span class="math inline">\(n\)</span> observations on two variables <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> is equal to:</p>
<p><span class="math display">\[cov(x,y) = \frac{1}{n-1}\sum_{i=1}^{n}(x_i - \bar{x})(y_i - \bar{y})\]</span></p>
<p>Covariance measures whether <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> tend to move together or not</p>
<p>Note that the term <span class="math inline">\((x_i - \bar{x})(y_i - \bar{y})\)</span> is positive for observation <span class="math inline">\(i\)</span> if <span class="math inline">\(x_i\)</span> and <span class="math inline">\(y_i\)</span> are both below or both above the means of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, and negative if not</p>
</section>
<section id="comparing-variables-across-the-distribution-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="comparing-variables-across-the-distribution-1">Comparing variables across the distribution</h2>
<p><strong>The correlation coefficient</strong> <span class="math inline">\(r\)</span> for <span class="math inline">\(n\)</span> observations on two variables x and y with sample standard deviations <span class="math inline">\(s_x\)</span> and <span class="math inline">\(s_y\)</span> is equal to:</p>
<p><span class="math display">\[r_{xy} = \frac{cov(x,y)}{s_x \times s_y}\]</span></p>
</section>
<section id="correlation-coefficient-properties" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="correlation-coefficient-properties">Correlation coefficient properties</h2>
<ul>
<li><span class="math inline">\(r_{xy}\)</span> is always between -1 and 1</li>
<li><span class="math inline">\(r_{xy}\)</span> equals 1 if all observations fall along a straight line that has a positive slope (that is, as x increases, y increases in direct proportion)</li>
<li><span class="math inline">\(r_{xy}\)</span> equals -1 if all observations fall along a straight line that has a negative slope (that is, as x increases, y decreases in direct proportion)</li>
<li><span class="math inline">\(r_{xy}\)</span> does not depend on the scale of either <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span></li>
</ul>
</section>
<section id="correlation-coefficient-properties-1" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="correlation-coefficient-properties-1">Correlation coefficient properties</h2>
<p><strong>If <span class="math inline">\(r_{xy}\)</span> equals 0, this does not imply that there is no relationship between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span></strong></p>
<p>It only implies that there is no linear relationship between <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span></p>
<p><strong>Always use a scatterplot to check!</strong></p>
</section>
<section id="correlation-examples" class="level2">
<h2 class="anchored" data-anchor-id="correlation-examples">Correlation examples</h2>
<p>Here are some examples of different correlation strengths might look like in terms of data</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/week4/correlation_examples.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</section>
<section id="other-correlation-coefficients" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="other-correlation-coefficients">Other correlation coefficients</h2>
<p><span class="math inline">\(r_{xy}\)</span> (also known as Pearson’s correlation coefficient) can only be computed for two continuous variables</p>
<p>Other measures with similar properties are available for ordinal variables:</p>
<ul>
<li><strong>Polychoric correlation</strong>: two ordinal variables</li>
<li><strong>Polyserial correlation</strong>: one ordinal variable and one continuous variable</li>
</ul>
<blockquote class="blockquote">
<p>We won’t cover these more in class becuase I find them to be rarely used in practice</p>
</blockquote>
</section>
<section id="which-measures-of-association-to-use" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="which-measures-of-association-to-use">Which measures of association to use?</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th><strong>Nominal</strong></th>
<th><strong>Ordinal</strong></th>
<th><strong>Continuous</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Nominal</strong></td>
<td>Difference in proportions; relative risk ratio</td>
<td>Difference in proportions; relative risk ratio</td>
<td>Difference in means between groups</td>
</tr>
<tr class="even">
<td><strong>Ordinal</strong></td>
<td></td>
<td>Polychoric correlation</td>
<td>Difference in means between groups; polyserial correlation</td>
</tr>
<tr class="odd">
<td><strong>Continuous</strong></td>
<td></td>
<td></td>
<td>Covariance, (Pearson’s) correlation coefficient</td>
</tr>
</tbody>
</table>
</section>
<section id="measures-of-association-in-r" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="measures-of-association-in-r">Measures of association in R</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Proportions</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Covariance</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-3" role="tab" aria-controls="tabset-6-3" aria-selected="false">Correlation</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<p><strong>Difference in proportions, relative risk ratio:</strong></p>
<p>Use the results of the marginal frequency tables</p>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Covariance</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span> </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">covariance =</span> <span class="fu">cov</span>(rincom91, income91, <span class="at">use =</span> <span class="st">"complete.obs"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 1
$ covariance &lt;dbl&gt; 376447249</code></pre>
</div>
</div>
</div>
<div id="tabset-6-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlation coefficient</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>attain <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">correlation =</span> <span class="fu">cor</span>(rincom91, income91, <span class="at">use =</span> <span class="st">"complete.obs"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  correlation
        &lt;dbl&gt;
1       0.671</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="questions-4" class="level2">
<h2 class="anchored" data-anchor-id="questions-4">Questions?</h2>
</section>
<section id="weekly-assignment-3" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="weekly-assignment-3">Weekly Assignment #3</h2>
<p><strong>Two-part assignment:</strong></p>
<ol type="1">
<li><p>Practice summarizing variables from attain.csv (from the first homework assignment): see Word document on bCourses</p></li>
<li><p>Answer a research question relating to the association between two variables in a data set of your choosing, using a proper measure of association for the levels of measurement of the variables. Write up your results according to the “Weekly Assignment Stata Analysis” template.</p></li>
</ol>
<p><strong>HW #3:</strong> due Thursday</p>
<ul>
<li>any questions?</li>
</ul>


</section>

</main> <!-- /main -->

<script>
  // htmlwidgets need to know to resize themselves when slides are shown/hidden.
  // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
  // slide changes (different for each slide format).
  (function () {
    // dispatch for htmlwidgets
    function fireSlideEnter() {
      const event = window.document.createEvent("Event");
      event.initEvent("slideenter", true, true);
      window.document.dispatchEvent(event);
    }

    function fireSlideChanged(previousSlide, currentSlide) {
      fireSlideEnter();

      // dispatch for shiny
      if (window.jQuery) {
        if (previousSlide) {
          window.jQuery(previousSlide).trigger("hidden");
        }
        if (currentSlide) {
          window.jQuery(currentSlide).trigger("shown");
        }
      }
    }

    // hookup for slidy
    if (window.w3c_slidy) {
      window.w3c_slidy.add_observer(function (slide_num) {
        // slide_num starts at position 1
        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
      });
    }

  })();
</script>

<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>